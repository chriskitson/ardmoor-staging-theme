{%- assign shipping_estimator_block = section.blocks | where: 'type', 'shipping_estimator' | first -%}
{%- assign variant_selector_block = section.blocks | where: 'type', 'variant_selector' | first -%}
{%- assign buy_buttons_block = section.blocks | where: 'type', 'buy_buttons' | first -%}

{%- capture section_settings -%}
{
  "showShippingEstimator": {% if template == 'product.quick-view' or product.available == false or shipping_estimator_block == blank %}false{% else %}true{% endif %},
  "showQuantitySelector": {{ variant_selector_block.settings.show_quantity_selector | json }},
  "showPaymentButton": {% if product.template_suffix == 'pre-order' %}false{% else %}{{ buy_buttons_block.settings.show_payment_button | json }}{% endif %},
  "showInventoryQuantity": {% if product.template_suffix != 'pre-order' %}{{ variant_selector_block.settings.show_inventory_quantity | json }}{% else %}false{% endif %},
  "lowInventoryThreshold": {{ variant_selector_block.settings.low_inventory_threshold | json }},
  "galleryTransitionEffect": {{ section.settings.carousel_effect | json }},
  "enableImageZoom": {% if template == 'product.quick-view' %}false{% else %}{{ section.settings.enable_image_zoom | json }}{% endif %},
  "zoomEffect": {{ section.settings.zoom_effect | json }},
  "enableVideoLooping": {{ section.settings.enable_video_looping | json }},
  "productOptions": {{ product.options | json | escape }},
  "enableHistoryState": {% if template == 'product.quick-view' %}false{% else %}true{% endif %},
  "infoOverflowScroll": {% if template == 'product.quick-view' %}false{% else %}true{% endif %},
  "isQuickView": {% if template == 'product.quick-view' %}true{% else %}false{% endif %}
}
{%- endcapture -%}

<section data-section-id="{{ section.id }}" data-section-type="product" data-section-settings='{{ section_settings }}'>
  {%- if template != 'product.quick-view' -%}
    <div class="container container--flush">
      <div class="page__sub-header">
        <nav aria-label="{{ 'general.breadcrumb.title' | t }}" class="breadcrumb">
          <ol class="breadcrumb__list" role="list">
            <li class="breadcrumb__item">
              <a class="breadcrumb__link link" href="{{ routes.root_url }}">{{ 'general.breadcrumb.home' | t }}</a> {%- render 'icon', icon: 'arrow-right' -%}
            </li>

            <li class="breadcrumb__item">
              {%- if collection -%}
                <a class="breadcrumb__link link" href="{{ collection.url }}">{{ collection.title }}</a> {%- render 'icon', icon: 'arrow-right' -%}
              {%- else -%}
                {% for collection in product.collections limit: 4 %}
                  {% if collection.title != 'All Products' %}
                    <a class="breadcrumb__link link" href="{{ collection.url }}">{{ collection.title }}</a> {%- render 'icon', icon: 'arrow-right' -%}
                  {% endif %}
                {% endfor %}
                {% comment %} 
                  <a class="breadcrumb__link link" href="{{ routes.all_products_collection_url }}">{{- 'collection.general.all_products' | t -}}</a> {%- render 'icon', icon: 'arrow-right' -%}
                {% endcomment %} 
              {%- endif -%}
            </li>
             <!-- <li class="breadcrumb__item">
               <a class="breadcrumb__link link" href="{{ product.vendor | url_for_vendor }}">{{ product.vendor }}</a> {%- render 'icon', icon: 'arrow-right' -%}
             </li> -->
    
{{ collections[product.vendor] }}
             <li class="breadcrumb__item">
               <a class="breadcrumb__link link" href="/collections/{{ product.vendor | downcase }}">{{ product.vendor }}</a> {%- render 'icon', icon: 'arrow-right' -%}
             </li>
    
            <li class="breadcrumb__item">
              <span class="breadcrumb__link" aria-current="page">{{ product.title | truncate: 40 }}</span>
            </li>
          </ol>
        </nav>    

        {%- if collection.previous_product or collection.next_product -%}
          <div class="page__navigation">
            {%- if collection.previous_product -%}
              <span class="page__navigation-item page__navigation-item--prev">
                <a href="{{ collection.previous_product.url }}" class="link" rel="prev">{%- render 'icon', icon: 'arrow-left' -%} {{- 'product.general.previous_product' | t -}}</a>
              </span>
            {%- endif -%}

            {%- if collection.next_product -%}
              <span class="page__navigation-item page__navigation-item--next">
                <a href="{{ collection.next_product.url }}" class="link" rel="next">{{- 'product.general.next_product' | t -}} {%- render 'icon', icon: 'arrow-right' -%}</a>
              </span>
            {%- endif -%}
          </div>
        {%- endif -%}
      </div>

      <div class="product-block-list product-block-list--{{ section.settings.image_size }}">
        <div class="product-block-list__wrapper">
          {%- if product.media.size > 0 -%}
            <div class="product-block-list__item product-block-list__item--gallery">
              {% render 'product-gallery' %}
            </div>
          {%- endif -%}

          <div class="product-block-list__item product-block-list__item--info">
            {%- render 'product-info' -%}
          </div>
    
          {%- comment -%}
          --------------------------------------------------------------------------------------
          TABS NAVIGATION
          --------------------------------------------------------------------------------------
          {%- endcomment -%}
          <div class="product-block-list__tabs_navigation">
            <ul>
              {%- for block in section.blocks -%}
                {%- case block.type -%}
                  {%- when 'description' -%}
                    <li><a href="#product-description" class="selected">Description <span class="arrow" /></a></li>
                  {%- when 'content' -%}
                    {%- assign page = block.settings.page -%}
                    {%- if page != blank -%}
                      {%- assign title = page.title -%}
                      {%- assign content = page.content -%}
                    {%- else -%}
                      {%- assign title = block.settings.title -%}
                      {%- assign content = block.settings.content -%}
                    {%- endif -%}
                    <li><a href="#block-{{ section.id }}-{{ block.id }}">{{ title }} <span class="arrow" /></a></li>
                  {%- when 'tp-reviews' -%}
                    {% for tag in product.tags %}
                      {% if tag contains 'product-review' %}
                        <li><a href="#product-tp-reviews">Product Reviews <span class="arrow" /></a></li>
                      {%- endif -%}
                    {%- endfor -%}    
                  {%- when 'reviews-io' -%}
                	{% for tag in product.tags %}
                	  {% if tag contains 'product-review' %}
                	    <li><a href="#product-reviews-io">Product Reviews <span class="arrow" /></a></li>
                	  {%- endif -%}
                	{%- endfor -%}
                {%- endcase -%}
              {%- endfor -%}
              <li class="spacer"></li>
            </ul>
          </div>

          {%- comment -%}
          --------------------------------------------------------------------------------------
          TABS
          --------------------------------------------------------------------------------------
          {%- endcomment -%}

          {%- for block in section.blocks -%}
            {%- case block.type -%}
              
              {%- comment -%}
              --------------------------------------------------------------------------------------
              DESCRIPTION
              --------------------------------------------------------------------------------------
              {%- endcomment -%}

              {%- when 'description' -%}
                {%- if product.description != blank -%}
                  <div id="product-description" class="product-block-list__item product-block-list__item--description product-block-list__tab" {{ block.shopify_attributes }}>
                    <div class="card">
                        <div class="card__header">
                          <h2 class="card__title heading h3">{{ 'product.general.description' | t }}</h2>
                        </div>
                        <div class="card__section">
                          <div class="rte text--pull">
                            {{ product.description | remove: 'data-section-type="product"' }}
                          </div>
                        </div>
                    </div>
                  </div>
                {%- endif -%}

              {%- when 'content' -%}
                {%- comment -%}
                --------------------------------------------------------------------------------------
                CONTENT (we first check the page and then inline content)
                --------------------------------------------------------------------------------------
                {%- endcomment -%}

                {%- assign page = block.settings.page -%}

                {%- if page != blank -%}
                  {%- assign title = page.title -%}
                  {%- assign content = page.content -%}
                {%- else -%}
                  {%- assign title = block.settings.title -%}
                  {%- assign content = block.settings.content -%}
                {%- endif -%}

                {%- if title != blank and content != blank -%}
                  <div id="block-{{ section.id }}-{{ block.id }}" class="product-block-list__item product-block-list__item--content product-block-list__tab" {{ block.shopify_attributes }}>
                    <div class="card">
                        <div class="card__header">
                          <h2 class="card__title heading h3">{{ title }}</h2>
                        </div>
                        <div class="card__section">
                          <div class="rte text--pull">
                            {{ content }}
                          </div>
                        </div>
                    </div>
                  </div>
                {%- endif -%}

            {%- when 'liquid' -%}
              {%- comment -%}
              --------------------------------------------------------------------------------------
              LIQUID CODE
              --------------------------------------------------------------------------------------
              {%- endcomment -%}

              {%- assign title = block.settings.title -%}
              {%- assign liquid = block.settings.liquid -%}

              {%- if title != blank and liquid != blank -%}
                <div class="product-block-list__item product-block-list__item--content product-block-list__tab" {{ block.shopify_attributes }}>
                  <div class="card">
                      <div class="card__header">
                        <h2 class="card__title heading h3">{{ title }}</h2>
                      </div>
                      <div class="card__section">
                        <div class="rte text--pull">
                          {{ liquid }}
                        </div>
                      </div>
                  </div>
                </div>
              {%- endif -%}

              {%- comment -%}
              --------------------------------------------------------------------------------------
              REVIEWS
              --------------------------------------------------------------------------------------
              {%- endcomment -%}
              {%- when 'reviews' -%}
                <div class="product-block-list__item product-block-list__item--reviews product-block-list__tab" {{ block.shopify_attributes }}>
                  <span id="product-reviews" class="anchor"></span>

                  <div class="card">
                    <div class="card__section">
                      {%- assign reviews_count = product.metafields.spr.reviews | split: '<meta itemprop="reviewCount" content="' | last | split: '">' | first | times: 1 -%}
                      <div id="shopify-product-reviews" class="spr-reviews {% if reviews_count > 0 %}spr-reviews--has-reviews{% endif %}" data-id="{{ product.id }}">{{ product.metafields.spr.reviews }}</div>
                    </div>
                  </div>
                </div>
          
          	  {%- comment -%}
              --------------------------------------------------------------------------------------
              TRUSTPILOT REVIEWS
              --------------------------------------------------------------------------------------
              {%- endcomment -%}
              {%- when 'tp-reviews' -%}
          
                {% for tag in product.tags %}
                  {% if tag contains 'product-review' %}
                    {%- capture variant_skus -%}
                      {%- for variant in product.variants -%}
                          {{- variant.sku -}}{%- if forloop.last == false -%},{%- endif -%}
                      {%- endfor -%}
                    {%- endcapture -%}
                    {% assign productcode = product.metafields.productcode %}


                    <div id="product-tp-reviews" class="product-block-list__item product-block-list__item--content product-block-list__tab">
                      <div class="card"><div class="card__header">
                        <h2 class="card__title heading h3">Product Reviews</h2>
                      </div>
                      <div class="tp-reviews">
                        <div class="tp-container">
                          <div class="trustpilot-widget" style="margin: 20px;" data-locale="en-GB" data-template-id="5717796816f630043868e2e8" data-businessunit-id="53f365d8000064000579b705" data-style-height="450px" data-style-width="100%" data-theme="light" data-sku="{{ product.metafields.details.code }}, {{ variant_skus }}" data-name="{{ product.title }}" data-no-reviews="hide">
                            <a href="https://uk.trustpilot.com/review/www.ardmoor.co.uk" target="_blank" rel="noopener">&nbsp;</a>
                          </div>
                        </div>
                      </div>
                      </div>
                    </div>

                  {% endif %}
                {% endfor %}

              {%- comment -%}
              --------------------------------------------------------------------------------------
              TRUST BADGE
              --------------------------------------------------------------------------------------
              {%- endcomment -%}

              {%- when 'trust' -%}
                {%- if block.settings.show_payment_icons and shop.enabled_payment_types.size > 0 -%}
                  {%- assign show_payment_icons = true -%}
                {%- else -%}
                  {%- assign show_payment_icons = false -%}
                {%- endif -%}

                {%- if block.settings.custom_security_badge or show_payment_icons -%}
                  <div class="product-block-list__item product-block-list__item--trust product-block-list__tab">
                    <div class="card">
                      <div class="card__header card__header--flex">
                        <h2 class="card__title heading h3">{{ block.settings.trust_title | escape }}</h2>

                        {%- render 'icon', icon: 'lock', width: 22, height: 24 -%}
                      </div>

                      <div class="card__section">
                        {%- if show_payment_icons -%}
                          {%- if block.settings.custom_security_badge -%}
                            <p class="card__subtitle heading h6">{{ 'product.general.payment' | t }}</p>
                          {%- endif -%}

                          <div class="payment-list">
                            {% for type in shop.enabled_payment_types %}
                              {{ type | payment_type_svg_tag: class: 'payment-list__item' }}
                            {% endfor %}
                          </div>

                          <p class="payment-list__notice">{{ 'product.general.payment_notice' | t }}</p>
                        {%- endif -%}

                        {%- if show_payment_icons and block.settings.custom_security_badge -%}
                          <hr class="card__separator">
                        {%- endif -%}

                        {%- if block.settings.custom_security_badge -%}
                          {%- if show_payment_icons -%}
                            <p class="card__subtitle heading h6">{{ 'product.general.security' | t }}</p>
                          {%- endif -%}

                          {%- assign badge_width = block.settings.custom_security_badge.width | at_most: 450 | append: 'x' -%}
                          <img class="product__trust-badge" style="width: {{ block.settings.custom_security_badge_width }}px"
                               src="{{ block.settings.custom_security_badge | img_url: badge_width }}"
                               srcset="{{ block.settings.custom_security_badge | img_url: badge_width }} 1x, {{ block.settings.custom_security_badge | img_url: badge_width, scale: 2 }} 2x"
                               alt="{{ block.settings.custom_security_badge.alt | escape }}">
                        {%- endif -%}
                      </div>
                    </div>
                  </div>
                {%- endif -%}

              {%- comment -%}
              --------------------------------------------------------------------------------------
              REVIEWS.io
              --------------------------------------------------------------------------------------
              {%- endcomment -%}
              {%- when 'reviews-io' -%}
                {% for tag in product.tags %}
                  {% if tag contains 'product-review' %}
                    {%- capture variant_skus -%}
                    {%- for variant in product.variants -%}
                      {{- variant.sku -}}{%- if forloop.last == false -%},{%- endif -%}
                    {%- endfor -%}
                  {%- endcapture -%}
                    {% assign productcode = product.metafields.productcode %}
                    <div
                      id="product-reviews-io"
                      class="product-block-list__item product-block-list__item--content product-block-list__tab"
                    >
                      <div class="card">
                        <div class="card__header">
                          <h2 class="card__title heading h3">Product Reviews</h2>
                        </div>
                        <div class="reviews-io">
                <script src="https://widget.reviews.io/polaris/build.js"></script>
                <div id="ReviewsWidget"></div>
                <script>
                new ReviewsWidget('#ReviewsWidget', {
                //Your REVIEWS.io Store ID and widget type:
                store: 'www.ardmoor.co.uk-bml7rmj',
                widget: 'polaris',
                
                //Content settings (store_review,product_review,third_party_review,questions). Choose what to display in this widget:
                options: {
                    types: 'product_review,questions',
                    lang: 'en',
                    //Possible layout options: bordered, large and reverse.
                    layout: '',
                    //How many reviews & questions to show per page?
                    per_page: 15,
                    store_review:{
                      hide_if_no_results: false,
                    },
                    third_party_review:{
                      hide_if_no_results: false,
                    },
                    product_review: {
                      sku: "{{ product.variants | map: 'sku' | join: ';' }};{{ product.variants | map: 'id' | join: ';' }}",
                      enable_rich_snippets: true,
                
                      /* Your custom Structured Data */
                      structured_data: {
                
                        category: {{ product.type | json }},
                        {% capture gtin_length %}{{ product.variants.first.barcode | size }}{% endcapture %}
                
                
                        {% if gtin_length == "14" %}
                           gtin14:"{{product.variants.first.barcode}}",
                        {% elsif gtin_length == "13" %}
                           gtin13:"{{product.variants.first.barcode}}",
                        {% elsif gtin_length == "12" %}
                           gtin12:"{{product.variants.first.barcode}}",
                        {% endif %}
                
                        url: "{{ shop.url }}{{ product.url }}",
                
                        {%- if product.featured_image -%}
                          image: "https:{{ product.featured_image | product_img_url: 'grande' }}",
                        {%- endif -%}
                
                        {% if variant.image %}
                          {% assign variant_image_size = variant.image.width | append: 'x' %}
                          image: "http:{{ variant.image.src | img_url: variant_image_size }}",
                        {% endif %}
                
                        description: "{{ product.description | strip_html | strip_newlines | escape }}",
                        {% assign ruk_current_variant = product.selected_or_first_available_variant %}
                        {% assign ruk_variant_count = product.variants | size %}
                        {% assign ruk_count = 0 %}
                
                        {% if product.variants %}
                          {% assign ruk_count = ruk_count | plus: 1 %}
                
                          offers: [{
                              type: "Offer",
                              priceCurrency: "{{ cart.currency.iso_code }}",
                              price: "{{ ruk_current_variant.price | money_without_currency }}",
                              itemCondition: "http://schema.org/NewCondition",
                              availability: "http://schema.org/{% if product.available %}InStock{% else %}OutOfStock{% endif %}",
                              url: "{{ shop.url }}{{ ruk_current_variant.url }}",
                
                              {% if ruk_current_variant.image %}
                                  {% assign variant_image_size = ruk_current_variant.image.width | append: 'x' %}
                                  image: "https:{{ ruk_current_variant.image.src | img_url: variant_image_size }}",
                              {% else %}
                                  image: "https:{{ product.featured_image.src | img_url: 'grande' }}",
                              {% endif %}
                
                              {% if ruk_current_variant.title != 'Default Title' %}
                                  name: "{{ product.title | strip_html | escape }} - {{ fa_current_variant.title | escape }}",
                              {% else %}
                                  name: "{{ product.title | strip_html | escape }}",
                              {% endif %}
                
                              {% if ruk_current_variant.barcode.size == 12 %}
                                  gtin12: "{{ ruk_current_variant.barcode }}",
                              {% endif %}
                
                              {% if ruk_current_variant.barcode.size == 13 %}
                                  gtin13: "{{ ruk_current_variant.barcode }}",
                              {% endif %}
                
                              {% if ruk_current_variant.barcode.size == 14 %}
                                  gtin14: "{{ ruk_current_variant.barcode }}",
                              {% endif %}
                
                              {% if ruk_current_variant.sku != blank %}
                                  sku: "{{ ruk_current_variant.sku }}",
                              {% else %}
                                  sku: "{{ ruk_current_variant.id }}",
                              {% endif %}
                
                              {% if product.description != blank %}
                                  description: "{{ product.description | strip_html | escape | strip_newlines }}",
                              {% endif %}
                
                              priceValidUntil: "{{ 'now' | date: '%s' | plus: 31536000 | date: '%Y-%m-%d' | uri_encode | replace:'+','%20' }}"
                          }],
                        {% endif %}
                
                        brand: {
                          type: 'Brand',
                          name: '{{ product.vendor | escape }}',
                        },
                      },
                    },
                
                    /* Toggle Options */
                    questions:{
                          hide_if_no_results:false,
                          enable_ask_question:true,
                          show_dates:true,
                          grouping:"{{ product.variants | map: 'sku' | join: ';' }};{{ product.variants | map: 'id' | join: ';' }}"
                    },
                
                    //Header settings:
                    header:{
                        enable_summary: true, //Show overall rating & review count
                        enable_ratings: true,
                        enable_attributes: true,
                        enable_image_gallery: true, //Show photo & video gallery
                        enable_percent_recommended: false, //Show what percentage of reviewers recommend it
                        enable_write_review: true, //Show "Write Review" button
                        enable_ask_question: true, //Show "Ask Question" button
                        enable_sub_header: true, //Show subheader
                        rating_decimal_places: 2,
                    },
                
                    //Filtering settings:
                    filtering:{
                        enable: true, //Show filtering options
                        enable_text_search: true, //Show search field
                        enable_sorting: true, //Show sorting options (most recent, most popular)
                        enable_product_filter: false, //Show product options filter
                        enable_media_filter: true, //Show reviews with images/video/media options
                        enable_overall_rating_filter: true, //Show overall rating breakdown filter
                        enable_language_filter: false, // Filter by review language
                        enable_language_filter_language_change: false, // Update widget language based on language selected
                        enable_ratings_filters: true, //Show product attributes filter
                        enable_attributes_filters: true, //Show author attributes filter
                    },
                
                    //Review settings:
                    reviews:{
                        enable_avatar: true, //Show author avatar
                        enable_reviewer_name:  true, //Show author name
                        enable_reviewer_address:  true, //Show author location
                        reviewer_address_format: 'city, country', //Author location display format
                        enable_verified_badge: true, //Show "Verified Customer" badge
                        enable_subscriber_badge: true, //Show "Verified Subscriber" badge
                        review_content_filter: 'undefined', //Filter content
                        enable_reviewer_recommends: true, //Show "I recommend it" badge
                        enable_attributes: true, //Show author attributes
                        enable_product_name: true, //Show display product name
                        enable_review_title: undefined, //Show review title
                        enable_replies: true, //Show review replies
                        enable_images: true, //Show display review photos
                        enable_ratings: true, //Show product attributes (additional ratings)
                        enable_share: true, //Show share buttons
                        enable_helpful_vote: true, //Show "was this helpful?" section
                        enable_helpful_display: true, //Show how many times times review upvoted
                        enable_report: true, //Show report button
                        enable_date: true, //Show when review was published
                        enable_third_party_source: true, // Show third party source
                
                
                    },
                },
                //Translation settings
                translations: {
                    'Verified Customer': 'Verified Customer'
                },
                //Style settings:
                styles: {
                    //Base font size is a reference size for all text elements. When base value gets changed, all TextHeading and TexBody elements get proportionally adjusted.
                    '--base-font-size': '16px',
                
                    //Button styles (shared between buttons):
                    '--common-button-font-family': 'inherit',
                    '--common-button-font-size':'16px',
                    '--common-button-font-weight':'500',
                    '--common-button-letter-spacing':'0',
                    '--common-button-text-transform':'none',
                    '--common-button-vertical-padding':'10px',
                    '--common-button-horizontal-padding':'20px',
                    '--common-button-border-width':'2px',
                    '--common-button-border-radius':'0px',
                
                    //Primary button styles:
                    '--primary-button-bg-color': '#0E1311',
                    '--primary-button-border-color': '#0E1311',
                    '--primary-button-text-color': '#ffffff',
                
                    //Secondary button styles:
                    '--secondary-button-bg-color': 'transparent',
                    '--secondary-button-border-color': '#0E1311',
                    '--secondary-button-text-color': '#0E1311',
                
                    //Star styles:
                    '--common-star-color': '#0E1311',
                    '--common-star-disabled-color': 'rgba(0,0,0,0.25)',
                    '--medium-star-size': '22px',
                    '--small-star-size': '19px',
                
                    //Heading styles:
                    '--heading-text-color': '#0E1311',
                    '--heading-text-font-weight': '600',
                    '--heading-text-font-family': 'inherit',
                    '--heading-text-line-height': '1.4',
                    '--heading-text-letter-spacing': '0',
                    '--heading-text-transform': 'none',
                
                    //Body text styles:
                    '--body-text-color': '#0E1311',
                    '--body-text-font-weight': '400',
                    '--body-text-font-family': 'inherit',
                    '--body-text-line-height': '1.4',
                    '--body-text-letter-spacing': '0',
                    '--body-text-transform': 'none',
                
                    //Input field styles:
                    '--inputfield-text-font-family': 'inherit',
                    '--input-text-font-size': '14px',
                    '--inputfield-text-font-weight': '400',
                    '--inputfield-text-color': '#0E1311',
                    '--inputfield-border-color': 'rgba(0,0,0,0.2)',
                    '--inputfield-background-color': 'transparent',
                    '--inputfield-border-width': '1px',
                    '--inputfield-border-radius': '0px',
                
                    '--common-border-color': 'rgba(0,0,0,0.15)',
                    '--common-border-width': '1px',
                    '--common-sidebar-width': '190px',
                
                    //Slider indicator (for attributes) styles:
                    '--slider-indicator-bg-color': 'rgba(0,0,0,0.1)',
                    '--slider-indicator-button-color': '#0E1311',
                    '--slider-indicator-width': '190px',
                
                    //Badge styles:
                    '--badge-icon-color': '#0E1311',
                    '--badge-icon-font-size': 'inherit',
                    '--badge-text-color': '#0E1311',
                    '--badge-text-font-size': 'inherit',
                    '--badge-text-letter-spacing': 'inherit',
                    '--badge-text-transform': 'inherit',
                
                    //Author styles:
                    '--author-font-size': 'inherit',
                    '--author-text-transform': 'none',
                
                    //Author avatar styles:
                    '--avatar-thumbnail-size': '60px',
                    '--avatar-thumbnail-border-radius': '100px',
                    '--avatar-thumbnail-text-color': '#0E1311',
                    '--avatar-thumbnail-bg-color': 'rgba(0,0,0,0.1)',
                
                    //Product photo or review photo styles:
                    '--photo-video-thumbnail-size': '80px',
                    '--photo-video-thumbnail-border-radius': '0px',
                
                    //Media (photo & video) slider styles:
                    '--mediaslider-scroll-button-icon-color': '#0E1311',
                    '--mediaslider-scroll-button-bg-color': 'rgba(255, 255, 255, 0.85)',
                    '--mediaslider-overlay-text-color': '#ffffff',
                    '--mediaslider-overlay-bg-color': 'rgba(0, 0, 0, 0.8))',
                    '--mediaslider-item-size': '110px',
                
                    //Pagination & tabs styles (normal):
                    '--pagination-tab-text-color': '#0E1311',
                    '--pagination-tab-text-transform': 'none',
                    '--pagination-tab-text-letter-spacing': '0',
                    '--pagination-tab-text-font-size': '16px',
                    '--pagination-tab-text-font-weight': '600',
                
                    //Pagination & tabs styles (active):
                    '--pagination-tab-active-text-color': '#0E1311',
                    '--pagination-tab-active-text-font-weight': '600',
                    '--pagination-tab-active-border-color': '#0E1311',
                    '--pagination-tab-border-width': '3px',
                },
                });
                </script>
                        </div>
                      </div>
                    </div>
                  {% endif %}
                {% endfor %}

              {%- comment -%}
              --------------------------------------------------------------------------------------
              ESTIMATE SHIPPING
              --------------------------------------------------------------------------------------
              {%- endcomment -%}

              {%- when 'shipping_estimator' -%}
                {%- if product.available -%}
                  <div class="product-block-list__item product-block-list__item--shipping product-block-list__tab" {{ block.shopify_attributes }}>
                    <div class="card">
                      <div class="card__header">
                        <h2 class="card__title heading h3">{{ 'product.general.estimate_shipping' | t }}</h2>
                      </div>

                      <div class="card__section">
                        <div class="shipping-estimator form" role="form">
                          <div class="form__input-row">
                            <div class="form__input-wrapper">
                              <label for="shipping-estimator-country" class="form__label">{{ 'cart.shipping_estimator.country' | t }}</label>

                              <div class="select-wrapper select-wrapper--primary">
                                {%- render 'icon', icon: 'arrow-bottom' -%}

                                <select name="country" id="shipping-estimator-country" data-default="{{ customer.default_address.country | default: block.settings.shipping_estimator_default_country }}" required>
                                  {{- country_option_tags -}}
                                </select>
                              </div>
                            </div>

                            <div class="form__input-wrapper" style="display: none">
                              <label for="shipping-estimator-province" class="form__label">{{ 'cart.shipping_estimator.province' | t }}</label>

                              <div class="select-wrapper select-wrapper--primary">
                                {%- render 'icon', icon: 'arrow-bottom' -%}

                                <select name="province" id="shipping-estimator-province" data-default="{{ customer.default_address.province }}"></select>
                              </div>
                            </div>

                            <div class="form__input-wrapper" style="max-width: 155px">
                              <label for="shipping-estimator-zip" class="form__label">{{ 'cart.shipping_estimator.zip_code' | t }}</label>
                              <input type="text" name="zip" id="shipping-estimator-zip" class="form__field form__field--text" value="{{ customer.default.address.zip }}" required>
                            </div>
                          </div>

                          <button type="button" class="form__submit button button--primary" data-action="estimate-shipping">{{ 'cart.shipping_estimator.estimate' | t }}</button>

                          <div class="shipping-estimator__results rte" style="display: none;"></div>
                        </div>
                      </div>

                      {%- if block.settings.show_refunds_policy and shop.refund_policy != blank -%}
                        <div class="card__section card__section--tight">
                          <button class="product__refund-policy-link link link--accented" data-action="open-modal" aria-controls="modal-refunds-policy">{{ 'product.general.refund_policy' | t }} {%- render 'icon', icon: 'arrow-right' -%}</button>
                        </div>
                      {%- endif -%}
                    </div>

                    {%- if block.settings.show_refunds_policy and shop.refund_policy != blank -%}
                      <div id="modal-refunds-policy" class="modal" aria-hidden="true">
                        <div class="modal__dialog" role="dialog">
                          <header class="modal__header">
                            <h3 class="modal__title heading h2">{{ 'product.general.refund_policy' | t }}</h3>
                            <button class="modal__close link" data-action="close-modal" title="{{ 'general.accessibility.close' | t | escape }}">
                              {%- render 'icon', icon: 'close' -%}
                            </button>
                          </header>

                          <div class="modal__content">
                            <div class="rte">
                              {{ shop.refund_policy }}
                            </div>
                          </div>
                        </div>
                      </div>
                    {%- endif -%}
                  </div>
                {%- endif -%}
            {%- endcase -%}
          {%- endfor -%}
        </div>
      </div>
      <div data-rebuy-id="85249" data-rebuy-shopify-product-ids="{{ product.id }}"></div>
      <div data-rebuy-id="85243" data-rebuy-shopify-product-ids="{{ product.id }}"></div>
      {% raw %} 
      <script id="rebuy-widget-85249" type="text/template">
              <div class="rebuy-widget"
              v-cloak
              v-on:click="stopPropagation($event)"
              v-bind:id="'rebuy-widget-' + id"
              v-bind:class="['widget-type-' + config.type.replace('_','-'), 'widget-display-' + config.display_type, products.length > 0 ? 'is-visible' : 'is-hidden', 'widget-layout-' + currentLayout()]">
          
              <div
                  class="rebuy-widget-container"
                  v-cloak
                  v-bind:class="['widget-display-' + config.display_type, visible ? 'is-visible' : 'is-hidden' ]"
                  v-on:click.self="hide()">
          
                  <div class="rebuy-widget-content">
                      <div class="rebuy-modal-close" v-on:click="hide()">
                          <i class="fas fa-times"></i>
                      </div>

                      <div class="rebuy-timer" v-if="hasTimer()">
                          <h5 class="rebuy-timer-title" v-if="config.language.timer_title">
                              <span v-html="config.language.timer_title"></span> <span class="rebuy-timer-minutes" v-html="config.timer.duration_minutes"></span>:<span class="rebuy-timer-seconds" v-html="config.timer.duration_seconds"></span>
                          </h5>
                      </div>
          
                      <h4 class="super-title" v-if="config.language.super_title != ''" v-html="config.language.super_title"></h4>
          
                      <h3 class="primary-title" v-if="config.language.title != ''" v-html="config.language.title"></h3>
          
                      <div class="description" v-if="config.language.description != ''" v-html="config.language.description"></div>
          
                      <div class="rebuy-product-grid" v-bind:class="layoutClasses">
          
                          <div class="rebuy-product-block" v-for="(product, product_index) in products" v-bind:class="[product.handle, 'product-id-' + product.id, cartHasProduct(product) ? 'cart-has-item' : '', productTagClasses(product)]">
          
                              <div class="rebuy-product-media">
                                  <a class="rebuy-product-image" v-bind:href="learnMoreURL(product)" v-bind:style="imageStyles" v-on:click="learnMore(product);" v-bind:class="[hasLearnMore() ? 'clickable' : '']">
                                      <img v-bind:src="itemImage(product, product.selected_variant, '400x400')" v-bind:alt="'View ' + product.title">
                                  </a>
                              </div>
                              <div class="rebuy-product-info">
                                  <a class="rebuy-product-title" v-bind:href="learnMoreURL(product)" v-on:click="learnMore(product);" v-html="product.title" v-bind:class="[hasLearnMore() ? 'clickable' : '']" v-bind:alt="'View ' + product.title"></a>
                                  <div class="rebuy-variant-title" v-if="showVariantTitle(product)" v-html="product.selected_variant.title"></div>
                                  <div class="rebuy-product-review" v-if="hasProductReviews(product)">
                                      <span class="rebuy-star-rating">
                                          <span class="rebuy-star-rating-background"></span>
                                          <span class="rebuy-star-rating-foreground" v-bind:style="{ width: productReviewRatingPercentage(product) }"></span>
                                      </span>
                                      <span class="rebuy-review-count" v-html="productReviewCount(product)"></span>
                                  </div>
          
                                  <div class="rebuy-product-price">
                                      <div v-if="variantOnSale(product, product.selected_variant)">
                                          <span class="rebuy-money sale" v-html="formatMoney(variantPrice(product, product.selected_variant))"></span>
                                          <span class="rebuy-money compare-at" v-html="formatMoney(variantCompareAtPrice(product, product.selected_variant))"></span>
                                      </div>
                                      <div v-if="!(variantOnSale(product, product.selected_variant))">
                                          <span class="rebuy-money" v-html="formatMoney(variantPrice(product, product.selected_variant))"></span>
                                      </div>
                                  </div>
                                  <div class="rebuy-product-description" v-if="showProductDescription(product)" v-html="text(product.body_html)"></div>
                              </div>
                              <div class="rebuy-product-options" v-if="showVariantSelect(product)">
                                  <select
                                      :id="id + '-' + 'select' + '-' + product_index"
                                      :class="{ hide : settings.view_options.variant_selector == 'buttons' }"
                                      class="rebuy-select"
                                      v-model="product.selected_variant_id"
                                      v-on:change="selectVariant(product)">
                                      <option v-for="variant in product.variants" v-bind:value="variant.id">{{ variant.title }}</option>
                                  </select>

                                  <div v-if="displayColorSwatches(option)" v-for="option in product.options" class="rebuy-color-swatches">
                                      <div v-for="(value, value_index) in option.values" class="rebuy-color-swatch">
                                          <input
                                              :name="id + '-color-' + product_index" 
                                              :id="id + '-color-' + product_index + '-' + value + '-' + value_index"
                                              :checked="value_index == 0" 
                                              :value="value"
                                              type="radio" 
                                              class="rebuy-color-input hide"
                                              v-on:change="selectVariantByColor(product, value, product_index)">
                                          <label
                                              :for="id + '-color-' + product_index + '-' + value + '-' + value_index"
                                              :style="{ backgroundColor: value }"
                                              :title="value"
                                              class="rebuy-color-label"></label>
                                      </div>
                                  </div>

                                  <div v-if="displaySizeSwatches(option)" v-for="option in product.options" class="mt-10 rebuy-size-swatches">
                                      <div v-for="(value, value_index) in option.values" class="rebuy-size-swatch">
                                          <input
                                              :name="id + '-size-' + product_index" 
                                              :id="id + '-size-' + product_index + '-' + value"
                                              :checked="value_index == 0" 
                                              :value="value"
                                              type="radio" 
                                              class="rebuy-size-input hide"
                                              v-on:change="selectVariantBySize(product, value, product_index)">
                                          <label
                                              :for="id + '-size-' + product_index + '-' + value"
                                              class="rebuy-size-label">{{ value }}</label>
                                      </div>
                                  </div>
                              </div>
                              <div class="rebuy-product-actions">
          
                                  <div class="subscription-checkbox" v-if="showSubscriptionOptions(product)">
                                      <label class="rebuy-checkbox-label">
                                          <input
                                              class="checkbox-input rebuy-checkbox"
                                              v-model="product.subscription"
                                              v-on:change="toggleSubscription(product)"
                                              type="checkbox" />
                                          <span class="checkbox-label" v-html="upgradeToSubscriptionLabel(product)"></span>
                                      </label>
                                  </div>
          
                                  <div class="subscription-frequency" v-if="showSubscriptionFrequency(product)">
                                      <select
                                          class="rebuy-select"
                                          v-model="product.subscription_frequency"
                                          v-on:change="updateSubscriptionFrequency(product)">
                                          <option v-for="frequency in product.subscription_frequencies" v-bind:value="frequency">{{ frequencyLabel(frequency, product.subscription_interval) }}</option>
                                      </select>
                                  </div>
          
                                  <div class="product-quantity" v-if="hasQuantityInputEnabled()">
                                      <div class="rebuy-select-wrapper">
                                          <label class="rebuy-label">Quantity</label>
                                          <select 
                                              class="rebuy-select" 
                                              v-model="product.quantity">
                                              <option v-for="n in maxQuantityInputValue()" v-bind:value="n">{{ n }}</option>
                                          </select>
                                      </div>
                                  </div>

                              </div>
                          </div>
          
                      </div>
          
                      <div class="rebuy-modal-actions" v-if="showContinueButton()">
                          <button
                              class="rebuy-button decline"
                              v-on:click="hide()"
                              type="button">
                                  <span v-html="continueLabel()"></span>
                          </button>
                      </div>
          

          
                  </div>
          
              </div>
          </div>
      </script>
      <script id="rebuy-widget-85243" type="text/template">
              <div class="rebuy-widget"
              v-cloak
              v-on:click="stopPropagation($event)"
              v-bind:id="'rebuy-widget-' + id"
              v-bind:class="['widget-type-' + config.type.replace('_','-'), 'widget-display-' + config.display_type, products.length > 0 ? 'is-visible' : 'is-hidden', 'widget-layout-' + currentLayout()]">
          
              <div
                  class="rebuy-widget-container"
                  v-cloak
                  v-bind:class="['widget-display-' + config.display_type, visible ? 'is-visible' : 'is-hidden' ]"
                  v-on:click.self="hide()">
          
                  <div class="rebuy-widget-content">
                      <div class="rebuy-modal-close" v-on:click="hide()">
                          <i class="fas fa-times"></i>
                      </div>

                      <div class="rebuy-timer" v-if="hasTimer()">
                          <h5 class="rebuy-timer-title" v-if="config.language.timer_title">
                              <span v-html="config.language.timer_title"></span> <span class="rebuy-timer-minutes" v-html="config.timer.duration_minutes"></span>:<span class="rebuy-timer-seconds" v-html="config.timer.duration_seconds"></span>
                          </h5>
                      </div>
          
                      <h4 class="super-title" v-if="config.language.super_title != ''" v-html="config.language.super_title"></h4>
          
                      <h3 class="primary-title" v-if="config.language.title != ''" v-html="config.language.title"></h3>
          
                      <div class="description" v-if="config.language.description != ''" v-html="config.language.description"></div>
          
                      <div class="rebuy-product-grid" v-bind:class="layoutClasses">
          
                          <div class="rebuy-product-block" v-for="(product, product_index) in products" v-bind:class="[product.handle, 'product-id-' + product.id, cartHasProduct(product) ? 'cart-has-item' : '', productTagClasses(product)]">
          
                              <div class="rebuy-product-media">
                                  <a class="rebuy-product-image" v-bind:href="learnMoreURL(product)" v-bind:style="imageStyles" v-on:click="learnMore(product);" v-bind:class="[hasLearnMore() ? 'clickable' : '']">
                                      <img v-bind:src="itemImage(product, product.selected_variant, '400x400')" v-bind:alt="'View ' + product.title">
                                  </a>
                              </div>
                              <div class="rebuy-product-info">
                                  <a class="rebuy-product-title" v-bind:href="learnMoreURL(product)" v-on:click="learnMore(product);" v-html="product.title" v-bind:class="[hasLearnMore() ? 'clickable' : '']" v-bind:alt="'View ' + product.title"></a>
                                  <div class="rebuy-variant-title" v-if="showVariantTitle(product)" v-html="product.selected_variant.title"></div>
                                  <div class="rebuy-product-review" v-if="hasProductReviews(product)">
                                      <span class="rebuy-star-rating">
                                          <span class="rebuy-star-rating-background"></span>
                                          <span class="rebuy-star-rating-foreground" v-bind:style="{ width: productReviewRatingPercentage(product) }"></span>
                                      </span>
                                      <span class="rebuy-review-count" v-html="productReviewCount(product)"></span>
                                  </div>
          
                                  <div class="rebuy-product-price">
                                      <div v-if="variantOnSale(product, product.selected_variant)">
                                          <span class="rebuy-money sale" v-html="formatMoney(variantPrice(product, product.selected_variant))"></span>
                                          <span class="rebuy-money compare-at" v-html="formatMoney(variantCompareAtPrice(product, product.selected_variant))"></span>
                                      </div>
                                      <div v-if="!(variantOnSale(product, product.selected_variant))">
                                          <span class="rebuy-money" v-html="formatMoney(variantPrice(product, product.selected_variant))"></span>
                                      </div>
                                  </div>
                                  <div class="rebuy-product-description" v-if="showProductDescription(product)" v-html="text(product.body_html)"></div>
                              </div>
                              <div class="rebuy-product-options" v-if="showVariantSelect(product)">
                                  <select
                                      :id="id + '-' + 'select' + '-' + product_index"
                                      :class="{ hide : settings.view_options.variant_selector == 'buttons' }"
                                      class="rebuy-select"
                                      v-model="product.selected_variant_id"
                                      v-on:change="selectVariant(product)">
                                      <option v-for="variant in product.variants" v-bind:value="variant.id">{{ variant.title }}</option>
                                  </select>

                                  <div v-if="displayColorSwatches(option)" v-for="option in product.options" class="rebuy-color-swatches">
                                      <div v-for="(value, value_index) in option.values" class="rebuy-color-swatch">
                                          <input
                                              :name="id + '-color-' + product_index" 
                                              :id="id + '-color-' + product_index + '-' + value + '-' + value_index"
                                              :checked="value_index == 0" 
                                              :value="value"
                                              type="radio" 
                                              class="rebuy-color-input hide"
                                              v-on:change="selectVariantByColor(product, value, product_index)">
                                          <label
                                              :for="id + '-color-' + product_index + '-' + value + '-' + value_index"
                                              :style="{ backgroundColor: value }"
                                              :title="value"
                                              class="rebuy-color-label"></label>
                                      </div>
                                  </div>

                                  <div v-if="displaySizeSwatches(option)" v-for="option in product.options" class="mt-10 rebuy-size-swatches">
                                      <div v-for="(value, value_index) in option.values" class="rebuy-size-swatch">
                                          <input
                                              :name="id + '-size-' + product_index" 
                                              :id="id + '-size-' + product_index + '-' + value"
                                              :checked="value_index == 0" 
                                              :value="value"
                                              type="radio" 
                                              class="rebuy-size-input hide"
                                              v-on:change="selectVariantBySize(product, value, product_index)">
                                          <label
                                              :for="id + '-size-' + product_index + '-' + value"
                                              class="rebuy-size-label">{{ value }}</label>
                                      </div>
                                  </div>
                              </div>
                              <div class="rebuy-product-actions">
          
                                  <div class="subscription-checkbox" v-if="showSubscriptionOptions(product)">
                                      <label class="rebuy-checkbox-label">
                                          <input
                                              class="checkbox-input rebuy-checkbox"
                                              v-model="product.subscription"
                                              v-on:change="toggleSubscription(product)"
                                              type="checkbox" />
                                          <span class="checkbox-label" v-html="upgradeToSubscriptionLabel(product)"></span>
                                      </label>
                                  </div>
          
                                  <div class="subscription-frequency" v-if="showSubscriptionFrequency(product)">
                                      <select
                                          class="rebuy-select"
                                          v-model="product.subscription_frequency"
                                          v-on:change="updateSubscriptionFrequency(product)">
                                          <option v-for="frequency in product.subscription_frequencies" v-bind:value="frequency">{{ frequencyLabel(frequency, product.subscription_interval) }}</option>
                                      </select>
                                  </div>
          
                                  <div class="product-quantity" v-if="hasQuantityInputEnabled()">
                                      <div class="rebuy-select-wrapper">
                                          <label class="rebuy-label">Quantity</label>
                                          <select 
                                              class="rebuy-select" 
                                              v-model="product.quantity">
                                              <option v-for="n in maxQuantityInputValue()" v-bind:value="n">{{ n }}</option>
                                          </select>
                                      </div>
                                  </div>

                              </div>
                          </div>
          
                      </div>
          
                      <div class="rebuy-modal-actions" v-if="showContinueButton()">
                          <button
                              class="rebuy-button decline"
                              v-on:click="hide()"
                              type="button">
                                  <span v-html="continueLabel()"></span>
                          </button>
                      </div>
          

          
                  </div>
          
              </div>
          </div>
      </script>
      {% endraw %}
    </div>
  {%- else -%}
    {%- comment -%}We display the quick view within the product template so we can re-use the same settings{%- endcomment -%}
    <div class="featured-product">
      {%- render 'product-gallery' -%}
      {%- render 'product-info' -%}
    </div>
  {%- endif -%}

  {%- comment -%}
  --------------------------------------------------------------------------------------
  TRIGGER KLAVIYO OUT OF STOCK POP UP FORM
  --------------------------------------------------------------------------------------
  {%- endcomment -%}
           
  {%- if product.metafields.custom.klaviyo_out_of_stock_form != blank -%}                         
    {% for variant in product.variants %}
      {% if variant.inventory_quantity == 0 %}
        <script type="text/javascript">
          window._klOnsite = window._klOnsite || [];
          window._klOnsite.push(['openForm', '{{ product.metafields.custom.klaviyo_out_of_stock_form }}']);
        </script>
      {% endif %}
    {% endfor %}
  {%- endif -%}

</section>

<script>
  window.ShopifyXR=window.ShopifyXR||function(){(ShopifyXR.q=ShopifyXR.q||[]).push(arguments)};
  ShopifyXR('addModels', {{ product.media | where: 'media_type', 'model' | json }});

  // We save the ID of the product in the local storage, as it can be used by the "recently viewed products" section
  (() => {
    let items = JSON.parse(localStorage.getItem('recentlyViewedProducts') || '[]');

    // If the product already exists we first remove it
    if (items.includes({{product.id | json}})) {
      items.splice(items.indexOf({{ product.id | json }}), 1);
    }

    items.unshift({{ product.id | json }});

    // Then, we save the current product into the local storage, by keeping only the 18 most recent
    try {
      localStorage.setItem('recentlyViewedProducts', JSON.stringify(items.slice(0, 18)));
    } catch (error) {
      // Do nothing, this may happen in Safari in incognito mode
    }
  })();
</script>

{%- comment -%} Klaviyo snippets{%- endcomment -%}

<script type="text/javascript">
  var _learnq = _learnq || [];

  var item = {
    Name: {{ product.title|json }},
    ProductID: {{ product.id|json }},
    Categories: {{ product.collections|map:'title'|json }},
    ImageURL: "https:{{ product.featured_image.src|img_url:'grande' }}",
    URL: "{{ shop.secure_url }}{{ product.url }}",
    Brand: {{ product.vendor|json }},
    Price: {{ product.price|money|json }},
    CompareAtPrice: {{ product.compare_at_price_max|money|json }}
  };

  _learnq.push(['track', 'Viewed Product', item]);
  _learnq.push(['trackViewedItem', {
    Title: item.Name,
    ItemId: item.ProductID,
    Categories: item.Categories,
    ImageUrl: item.ImageURL,
    Url: item.URL,
    Metadata: {
      Brand: item.Brand,
      Price: item.Price,
      CompareAtPrice: item.CompareAtPrice
    }
  }]);
</script>

<script type="text/javascript">
var _learnq = _learnq || [];
	document.getElementById("AddToCart").addEventListener('click',function (){
 		_learnq.push(['track', 'Added to Cart', item]);
	});</script>


{% schema %}
{
  "name": "Product",
  "blocks": [
    {
      "type": "product_meta",
      "name": "Product meta",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_vendor",
          "label": "Show vendor",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_sku",
          "label": "Show SKU",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "show_reviews_badge",
          "label": "Show product rating",
          "info": "To display a rating, add a product rating app. [Learn more](https://help.shopify.com/en/manual/products/product-reviews/installation)",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "show_share_buttons",
          "label": "Show share buttons",
          "default": true
        }
      ]
    },
    {
      "type": "variant_selector",
      "name": "Variant selector",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "selector_mode",
          "label": "Selector type",
          "options": [
            {
              "value": "block",
              "label": "Block"
            },
            {
              "value": "dropdown",
              "label": "Dropdown"
            }
          ],
          "default": "block"
        },
        {
          "type": "select",
          "id": "color_mode",
          "label": "Color selector type",
          "info": "Variant image mode requires that all variant has an associated image. [Learn more](https://help.shopify.com/en/manual/products/product-variant-images#add-images-to-existing-variants)",
          "options": [
            {
              "value": "block",
              "label": "Block"
            },
            {
              "value": "dropdown",
              "label": "Dropdown"
            },
            {
              "value": "color",
              "label": "Color swatch"
            },
            {
              "value": "variant_image",
              "label": "Variant image"
            }
          ],
          "default": "color"
        },
        {
          "type": "checkbox",
          "id": "show_quantity_selector",
          "label": "Show quantity selector",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_taxes_included",
          "label": "Show price taxes notice",
          "default": false
        },
        {
          "type": "header",
          "content": "Inventory"
        },
        {
          "type": "paragraph",
          "content": "You can also add a stock countdown. [Learn more](https://support.maestrooo.com/article/177-product-show-an-stock-countdown-bar)."
        },
        {
          "type": "checkbox",
          "id": "show_inventory_quantity",
          "label": "Show inventory quantity",
          "default": false
        },
        {
          "type": "range",
          "id": "low_inventory_threshold",
          "label": "Low inventory threshold",
          "info": "Use low stock color when quantity is below the threshold. Choose 0 to always show in stock.",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 0
        }
      ]
    },
    {
      "type": "buy_buttons",
      "name": "Buy buttons",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "show_payment_button",
          "label": "Show dynamic checkout button",
          "info": "Each customer will see their preferred payment method from those available on your store, such as PayPal or Apple Pay. [Learn more](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
          "default": true
        }
      ]
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "paragraph",
          "content": "This text will appear on the right part of the page."
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Text"
        }
      ]
    },
    {
      "type": "button",
      "name": "Button",
      "settings": [
        {
          "type": "paragraph",
          "content": "This button will appear on the right part of the page."
        },
        {
          "type": "text",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    },
    {
      "type": "store_pickup",
      "name": "Local pickup availability",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "Show customers where they can pick up the product. [Learn more](https://help.shopify.com/en/manual/shipping/setting-up-and-managing-your-shipping/local-methods/local-pickup#show-pickup-availability-to-your-customers)"
        }
      ]
    },
    {
      "type": "description",
      "name": "Description",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "display_mode",
          "label": "Display mode",
          "options": [
            {
              "value": "collapse",
              "label": "Collapse"
            },
            {
              "value": "view_more",
              "label": "Show view more if long"
            },
            {
              "value": "show_all",
              "label": "Show all"
            }
          ],
          "default": "show_all"
        }
      ]
    },
    {
      "type": "content",
      "name": "Content",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        },
        {
          "type": "page",
          "id": "page",
          "label": "Content from page",
          "info": "If specified, takes precedence over inline content."
        },
        {
          "type": "select",
          "id": "display_mode",
          "label": "Display mode",
          "options": [
            {
              "value": "collapse",
              "label": "Collapse"
            },
            {
              "value": "view_more",
              "label": "Show view more if long"
            },
            {
              "value": "show_all",
              "label": "Show all"
            }
          ],
          "default": "show_all"
        }
      ]
    },
    {
      "type": "liquid",
      "name": "Liquid",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "liquid",
          "id": "liquid",
          "label": "Liquid code",
          "default": "{{ product.title }}"
        },
        {
          "type": "select",
          "id": "display_mode",
          "label": "Display mode",
          "options": [
            {
              "value": "collapse",
              "label": "Collapse"
            },
            {
              "value": "view_more",
              "label": "Show view more if long"
            },
            {
              "value": "show_all",
              "label": "Show all"
            }
          ],
          "default": "show_all"
        }
      ]
    },
    {
      "type": "reviews",
      "name": "Reviews",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "You need to install [Shopify's free Product Reviews](https://apps.shopify.com/product-reviews) app before enabling those options."
        }
      ]
    },
	{
      "type": "tp-reviews",
      "name": "Product Reviews",
      "limit": 1
    },
    {
      "type": "reviews-io",
      "name": "REVIEWS.io",
      "limit": 1
    },
    {
      "type": "shipping_estimator",
      "name": "Shipping estimator",
      "settings": [
        {
          "type": "text",
          "id": "shipping_estimator_default_country",
          "label": "Default country",
          "info": "If the customer is logged in, the country of their shipping address will be used.",
          "default": "United States"
        },
        {
          "type": "checkbox",
          "id": "show_refunds_policy",
          "label": "Show refunds policy",
          "info": "Refund policy must be added into your store policies. [Learn more](https://help.shopify.com/manual/sell-online/checkout-settings/refund-privacy-tos).",
          "default": true
        }
      ]
    },
    {
      "type": "product_bullets",
      "name": "Product Bullets",
      "settings": [
        {
          "type": "text",
          "id": "bullet_1_text",
          "label": "Bullet 1 Text",
          "default": "Example bullet text here"
        },
        {
          "type": "url",
          "id": "bullet_1_link",
          "label": "Bullet 1 Link"
        },
        {
          "type": "select",
          "id": "bullet_1_icon",
          "label": "Bullet 1 Icon",
          "info": "Select a icon from the list",
"options": [
            {
              "value": "truck",
              "label": "Truck"
            }, {
              "value": "feather",
              "label": "Feather"
            }, {
              "value": "credit-card",
              "label": "Credit card"
            }, {
              "value": "lock",
              "label": "Lock"
            }, {
              "value": "gift",
              "label": "Gift"
            }, {
              "value": "package",
              "label": "Package"
            }, {
              "value": "shopping-bag",
              "label": "Shopping bag"
            }, {
              "value": "shopping-cart",
              "label": "Shopping cart"
            }, {
              "value": "tag",
              "label": "Tag"
            }, {
              "value": "instagram",
              "label": "Instagram"
            }, {
              "value": "youtube",
              "label": "YouTube"
            }, {
              "value": "twitter",
              "label": "Twitter"
            }, {
              "value": "facebook",
              "label": "Facebook"
            }
          ]
        },
        {
          "type": "text",
          "id": "bullet_2_text",
          "label": "Bullet 2 Text"
        }, {
          "type": "url",
          "id": "bullet_2_link",
          "label": "Bullet 2 Link"
        }, {
          "type": "select",
          "id": "bullet_2_icon",
          "label": "Bullet 2 Icon",
          "info": "Select a icon from the list",
"options": [
            {
              "value": "truck",
              "label": "Truck"
            }, {
              "value": "feather",
              "label": "Feather"
            }, {
              "value": "credit-card",
              "label": "Credit card"
            }, {
              "value": "lock",
              "label": "Lock"
            }, {
              "value": "gift",
              "label": "Gift"
            }, {
              "value": "package",
              "label": "Package"
            }, {
              "value": "shopping-bag",
              "label": "Shopping bag"
            }, {
              "value": "shopping-cart",
              "label": "Shopping cart"
            }, {
              "value": "tag",
              "label": "Tag"
            }, {
              "value": "instagram",
              "label": "Instagram"
            }, {
              "value": "youtube",
              "label": "YouTube"
            }, {
              "value": "twitter",
              "label": "Twitter"
            }, {
              "value": "facebook",
              "label": "Facebook"
            }
          ]
        }, {
          "type": "text",
          "id": "bullet_3_text",
          "label": "Bullet 3 Text"
        }, {
          "type": "url",
          "id": "bullet_3_link",
          "label": "Bullet 3 Link"
        }, {
          "type": "select",
          "id": "bullet_3_icon",
          "label": "Bullet 3 Icon",
          "info": "Select a icon from the list",
"options": [
            {
              "value": "truck",
              "label": "Truck"
            }, {
              "value": "feather",
              "label": "Feather"
            }, {
              "value": "credit-card",
              "label": "Credit card"
            }, {
              "value": "lock",
              "label": "Lock"
            }, {
              "value": "gift",
              "label": "Gift"
            }, {
              "value": "package",
              "label": "Package"
            }, {
              "value": "shopping-bag",
              "label": "Shopping bag"
            }, {
              "value": "shopping-cart",
              "label": "Shopping cart"
            }, {
              "value": "tag",
              "label": "Tag"
            }, {
              "value": "instagram",
              "label": "Instagram"
            }, {
              "value": "youtube",
              "label": "YouTube"
            }, {
              "value": "twitter",
              "label": "Twitter"
            }, {
              "value": "facebook",
              "label": "Facebook"
            }
          ]
        }, {
          "type": "text",
          "id": "bullet_4_text",
          "label": "Bullet 4 Text"
        }, {
          "type": "url",
          "id": "bullet_4_link",
          "label": "Bullet 4 Link"
        }, {
          "type": "select",
          "id": "bullet_4_icon",
          "label": "Bullet 4 Icon",
          "info": "Select a icon from the list",
"options": [
            {
              "value": "truck",
              "label": "Truck"
            }, {
              "value": "feather",
              "label": "Feather"
            }, {
              "value": "credit-card",
              "label": "Credit card"
            }, {
              "value": "lock",
              "label": "Lock"
            }, {
              "value": "gift",
              "label": "Gift"
            }, {
              "value": "package",
              "label": "Package"
            }, {
              "value": "shopping-bag",
              "label": "Shopping bag"
            }, {
              "value": "shopping-cart",
              "label": "Shopping cart"
            }, {
              "value": "tag",
              "label": "Tag"
            }, {
              "value": "instagram",
              "label": "Instagram"
            }, {
              "value": "youtube",
              "label": "YouTube"
            }, {
              "value": "twitter",
              "label": "Twitter"
            }, {
              "value": "facebook",
              "label": "Facebook"
            }
          ]
        }, {
          "type": "text",
          "id": "bullet_5_text",
          "label": "Bullet 5 Text"
        }, {
          "type": "url",
          "id": "bullet_5_link",
          "label": "Bullet 5 Link"
        }, {
          "type": "select",
          "id": "bullet_5_icon",
          "label": "Bullet 5 Icon",
          "info": "Select a icon from the list",
"options": [
            {
              "value": "truck",
              "label": "Truck"
            }, {
              "value": "feather",
              "label": "Feather"
            }, {
              "value": "credit-card",
              "label": "Credit card"
            }, {
              "value": "lock",
              "label": "Lock"
            }, {
              "value": "gift",
              "label": "Gift"
            }, {
              "value": "package",
              "label": "Package"
            }, {
              "value": "shopping-bag",
              "label": "Shopping bag"
            }, {
              "value": "shopping-cart",
              "label": "Shopping cart"
            }, {
              "value": "tag",
              "label": "Tag"
            }, {
              "value": "instagram",
              "label": "Instagram"
            }, {
              "value": "youtube",
              "label": "YouTube"
            }, {
              "value": "twitter",
              "label": "Twitter"
            }, {
              "value": "facebook",
              "label": "Facebook"
            }
          ]
        }
      ]
    }, 
    {
      "type": "trust",
      "name": "Trust content",
      "settings": [
        {
          "type": "text",
          "id": "trust_title",
          "label": "Heading",
          "default": "Payment & Security"
        },
        {
          "type": "checkbox",
          "id": "show_payment_icons",
          "label": "Show payment icons",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "custom_security_badge",
          "label": "Security badge",
          "info": "800 x 200px .jpg recommended"
        },
        {
          "type": "range",
          "id": "custom_security_badge_width",
          "min": 100,
          "max": 500,
          "step": 10,
          "unit": "px",
          "label": "Security badge width",
          "default": 200
        }
      ]
    },
    {
      "type": "@app"
    }
  ],
  "settings": [
    {
      "type": "header",
      "content": "Media"
    },
    {
      "type": "paragraph",
      "content": "Learn more about [media types](https://help.shopify.com/en/manual/products/product-media)"
    },
    {
      "type": "select",
      "id": "image_size",
      "label": "Size",
      "options": [
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "small"
    },
    {
      "type": "checkbox",
      "id": "enable_video_looping",
      "label": "Enable video looping",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "enable_image_zoom",
      "label": "Enable image zoom",
      "default": true
    },
    {
      "type": "select",
      "id": "zoom_effect",
      "label": "Desktop zoom effect",
      "options": [
        {
          "value": "inside",
          "label": "Inside"
        },
        {
          "value": "outside",
          "label": "Outside"
        }
      ],
      "default": "outside"
    },
    {
      "type": "select",
      "id": "carousel_effect",
      "label": "Transition effect",
      "options": [
        {
          "value": "fade",
          "label": "Fade"
        },
        {
          "value": "slide",
          "label": "Slide"
        }
      ],
      "default": "fade"
    }
  ]
}
{% endschema %}

{% stylesheet %}
  .product-bullets {
      display: block;
      width: 100% !important;
      margin: 0 9px 9px !important;
  }
  .product-bullets ul {
      padding: 0;
      margin: 0;
  }
  .product-bullets ul li {
      list-style: none;
      font-size: 0.9em;
      display: flex;
      align-items: center;
      margin-bottom: 5px;
  }
  .product-bullets ul li a {
      display: flex;
      align-items: center;
  }
  .product-bullets ul li svg {
    margin-right: 10px;
  }
  .reviews-io {
    padding: 20px;
  }
{% endstylesheet %}